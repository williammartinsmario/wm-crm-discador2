
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>WM CRM & Discador</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body { background: #f5f7fa; font-family: sans-serif; }
    header { background: #fff; padding: 10px; border-bottom: 2px solid #ccc; }
    .etapa { min-height: 400px; border: 1px solid #ddd; border-radius: 8px; padding: 10px; background: #fff; }
    .card-lead { border: 1px solid #ccc; margin-bottom: 10px; border-radius: 6px; padding: 8px; background: #fdfdfd; }
    footer { text-align: center; padding: 10px; background: #002b56; color: white; margin-top: 20px; }
    .etapas-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    .btn-small { font-size: 0.8rem; padding: 3px 6px; }
  </style>
</head>
<body>
  <header class="d-flex justify-content-between align-items-center px-4">
    <img src="#" alt="Logo" style="height:30px;">
    <h5 class="my-2">WM CRM & Discador</h5>
    <div>
      <input type="file" id="fileInput">
      <button class="btn btn-primary btn-sm" onclick="colarContatos()">ğŸ“‹ Colar</button>
      <button class="btn btn-secondary btn-sm" onclick="editarEtapas()">âš™ï¸ Etapas</button>
      <input type="text" id="filtro" placeholder="Buscar..." class="ms-2">
    </div>
  </header>

  <div class="container my-3">
    <div class="row" id="kanban">
      <div class="col etapa" id="novo">
        <div class="etapas-header"><b>ğŸ“¥ Novo</b></div>
        <div id="etapa-novo" class="dropzone"></div>
      </div>
      <div class="col etapa" id="em-atendimento">
        <div class="etapas-header"><b>ğŸ“ Em Atendimento</b></div>
        <div id="etapa-em-atendimento" class="dropzone"></div>
      </div>
      <div class="col etapa" id="fechado">
        <div class="etapas-header"><b>âœ… Fechado</b></div>
        <div id="etapa-fechado" class="dropzone"></div>
      </div>
    </div>
  </div>

  <footer>Â© 2025 WM Assessoria</footer>

  <script>
    const projetos = {
      "Seleto Amoreiras": {
        endereco: "R. Joaquim Lacerda Coelho, 647 â€“ Jardim Capivari, Campinas â€“ SP",
        maps: "https://maps.app.goo.gl/Rgs2wBWEGY1F3qwR8",
        resumo: "âœ” 2 dorms\nâœ” Varanda gourmet\nâœ” Lazer completo com piscina, coworking, academia, pet place"
      },
      "Rise CondomÃ­nio Clube": {
        endereco: "Rua BartirÃ¡, 340 â€“ Vila IpÃª, Campinas â€“ SP",
        maps: "https://maps.app.goo.gl/HZgyx2rGDtFEFcLs7",
        resumo: "âœ” 2 dorms com varanda gourmet\nâœ” CondomÃ­nio clube com piscina, coworking, pet place"
      },
      "MangarÃ¡ Cores da Mata": {
        endereco: "Av. GraÃ§a Aranha, 175 â€“ Vila Miguel Vicente Cury, Campinas â€“ SP",
        maps: "https://maps.app.goo.gl/rYQrgLtEbRbjXvHZ9",
        resumo: "âœ” 2 dorms com suÃ­te\nâœ” Varanda gourmet\nâœ” Lazer completo"
      },
      "Alentejo Residencial": {
        endereco: "Av. GraÃ§a Aranha, 175 â€“ Vila Miguel Vicente Cury, Campinas â€“ SP",
        maps: "https://maps.app.goo.gl/rYQrgLtEbRbjXvHZ9",
        resumo: "âœ” 2 e 3 dorms\nâœ” Varanda gourmet\nâœ” Wi-Fi, garagem proporcional"
      },
      "Algarve Residencial": {
        endereco: "Av. GraÃ§a Aranha, 175 â€“ Vila Miguel Vicente Cury, Campinas â€“ SP",
        maps: "https://maps.app.goo.gl/rYQrgLtEbRbjXvHZ9",
        resumo: "âœ” 2 e 3 dorms tipo/garden\nâœ” Churrasqueira Ã  gÃ¡s\nâœ” Lazer completo"
      },
      "Central de Vendas": {
        endereco: "Av. Maria EmÃ­lia A. dos Santos de Angelis, 485 â€“ Parque Prado, Campinas â€“ SP",
        maps: "https://maps.app.goo.gl/3ayKMC2bF8hJL8TK9",
        resumo: "âœ” ConheÃ§a todos os projetos\nâœ” SimulaÃ§Ãµes e atendimento exclusivo"
      }
    };

    function colarContatos() {
      navigator.clipboard.readText().then(text => {
        const linhas = text.split("\n").filter(l => l.trim() !== "");
        for (let linha of linhas) {
          let partes = linha.split(/[,;\t ]+/);
          if (partes.length >= 2) {
            const nome = partes[0].trim();
            const numero = partes[1].replace(/[^0-9]/g, '');
            addCard(nome, numero);
          }
        }
      });
    }

    function addCard(nome, numero) {
      const div = document.createElement("div");
      div.className = "card-lead";
      div.innerHTML = `
        <b>${nome.toUpperCase()}</b><br><span>${numero}</span><br>
        <button class='btn btn-sm btn-primary mt-1' onclick='agendar("${nome}", "${numero}")'>ğŸ“… Agendar</button>
      `;
      document.getElementById("etapa-novo").appendChild(div);
    }

    function agendar(nome, numero) {
      const projeto = prompt("Digite o nome do projeto (ex: Seleto Amoreiras)");
      const dataHora = prompt("Digite a data e hora (ex: 09/07/2025 Ã s 15:00)");
      if (!projetos[projeto]) return alert("Projeto nÃ£o encontrado!");

      const p = projetos[projeto];
      const msg = `OlÃ¡ ${nome}, tudo certo?\n\nConfirmando sua visita ao ${projeto}, localizado na ${p.endereco}.\n\nğŸ•’ HorÃ¡rio agendado: ${dataHora}\nğŸ“ Google Maps: ${p.maps}\n\nPeÃ§a para falar com o William.\n\n${p.resumo}\n\nTe espero no local! ğŸ˜‰`;
      const link = "https://wa.me/55" + numero + "?text=" + encodeURIComponent(msg);
      window.open(link, "_blank");
    }

    function editarEtapas() {
      alert("Funcionalidade de ediÃ§Ã£o de etapas serÃ¡ ativada na prÃ³xima versÃ£o.");
    }
  </script>
</body>
</html>
